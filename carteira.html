<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Carteira â€” Magaxia</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  color:#000;
  background: radial-gradient(circle at top, #4da3ff, #003bff 60%, #001a66);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  box-sizing:border-box;
}

/* brilho suave no fundo */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(255,255,255,0.35), transparent 60%),
    radial-gradient(circle at 80% 70%, rgba(255,255,255,0.20), transparent 70%);
  pointer-events:none;
  filter:blur(40px);
  z-index:0;
}

/* container principal */
.container{
  max-width:420px;
  margin:40px auto;
  background:rgba(255,255,255,0.32);
  padding:20px;
  border-radius:12px;
  -webkit-backdrop-filter:blur(10px);
  backdrop-filter:blur(10px);
  box-shadow:0 6px 20px rgba(0,0,0,.3);
  position:relative;
  z-index:1;
}

/* Labels legÃ­veis */
label{
  display:block;
  font-weight:bold;
  margin-top:12px;
  margin-bottom:4px;
  color:#000;
}

/* Inputs e select */
input, select{
  width:100%;
  padding:10px;
  margin-bottom:8px;
  border-radius:8px;
  border:none;
  background:rgba(255,255,255,0.65);
  backdrop-filter:blur(6px);
  color:#000;
  font-size:14px;
}

/* BotÃ£o */
button{
  width:100%;
  padding:12px;
  margin-top:10px;
  border-radius:10px;
  border:none;
  background:#4da3ff;
  color:#000;
  font-weight:bold;
  cursor:pointer;
  box-shadow:0 2px 8px rgba(0,0,0,.25);
}
button:hover{
  background:#33c7ff;
}

/* Sucesso */
.sucesso{
  display:none;
  margin-top:15px;
  padding:12px;
  background:#00ff88;
  color:#000;
  text-align:center;
  border-radius:8px;
  animation:fadeIn 0.6s ease;
}
@keyframes fadeIn{
  from{opacity:0; transform:scale(0.9);}
  to{opacity:1; transform:scale(1);}
}

/* HistÃ³rico */
.log-box{
  margin-top:25px;
  background:rgba(255,255,255,0.45);
  padding:15px;
  border-radius:10px;
  max-height:220px;
  overflow-y:auto;
  backdrop-filter:blur(6px);
  color:#000;
}
.log-item{
  margin-bottom:10px;
  padding-bottom:8px;
  border-bottom:1px solid rgba(0,0,0,0.1);
}

/* === BRILHO ANIMADO NAS LETRAS === */
.glow-text {
  position: relative;
  display: inline-block;
  background: linear-gradient(
      90deg,
      #000 0%,
      #000 30%,
      #ffffff 50%,
      #000 70%,
      #000 100%
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shineText 2.2s linear infinite;
  background-size: 200%;
  font-weight: bold;
}
@keyframes shineText {
  0% { background-position: 200%; }
  100% { background-position: -200%; }
}
</style>
</head>
<body>

<div class="container">
  <h2 class="glow-text">ðŸ’¼ Carteira</h2>

  <!-- SALDO -->
  <p><b>Saldo disponÃ­vel:</b> R$ <span id="saldo">0,00</span></p>

  <hr>

  <h3 class="glow-text">Solicitar Saque</h3>

  <label for="valor">Valor do Saque</label>
  <input type="number" id="valor" placeholder="Ex: 100">

  <label for="nome">Nome Completo</label>
  <input type="text" id="nome" placeholder="Seu nome completo">

  <label for="tipoPix">Tipo de chave Pix</label>
  <select id="tipoPix">
    <option value="cpf">CPF</option>
    <option value="email">E-mail</option>
    <option value="telefone">Telefone</option>
  </select>

  <label for="chave">Chave Pix</label>
  <input type="text" id="chave" placeholder="Digite a chave escolhida">

  <button id="btnSaque">Sacar</button>

  <div id="sucesso" class="sucesso">âœ… Saque realizado com sucesso!</div>

  <h3 class="glow-text">ðŸ“œ HistÃ³rico de saques</h3>
  <div class="log-box" id="historico">Nenhum saque realizado.</div>
</div>

<script>
// ------------------------------
// CONFIGURAÃ‡ÃƒO
// ------------------------------
let saldo = 0;  // saldo inicial
const taxaSaque = 5; // taxa fixa
const btnSaque = document.getElementById("btnSaque");
const historicoDiv = document.getElementById("historico");

function atualizarSaldo(){
    document.getElementById("saldo").innerText = saldo.toFixed(2).replace(".", ",");
}
atualizarSaldo();

// ------------------------------
// VALIDAÃ‡Ã•ES
// ------------------------------
function validarCPF(cpf){
    return /^\d{11}$/.test(cpf);
}
function validarTelefone(t){
    return /^\d{10,11}$/.test(t);
}
function validarEmail(email){
    return email.includes("@") && email.includes(".");
}

// ------------------------------
// HISTÃ“RICO (localStorage)
// ------------------------------
function carregarHistorico(){
    let log = JSON.parse(localStorage.getItem("saquesMagaxia")) || [];
    if(log.length === 0){
        historicoDiv.innerHTML = "Nenhum saque realizado.";
        return;
    }
    historicoDiv.innerHTML = log.map(item => `
        <div class="log-item">
            <b>Valor:</b> R$ ${item.valor}<br>
            <b>Taxa:</b> R$ ${item.taxa}<br>
            <b>Data:</b> ${item.data}
        </div>
    `).join("");
}
carregarHistorico();

// ------------------------------
// 1 SAQUE POR DIA
// ------------------------------
function saqueHoje() {
    let ultimo = localStorage.getItem("ultimoSaqueMagaxia");
    if (!ultimo) return false;
    let hoje = new Date().toLocaleDateString("pt-BR");
    return ultimo === hoje;
}

// ------------------------------
// FUNÃ‡ÃƒO DO SAQUE
// ------------------------------
btnSaque.addEventListener("click", function(){
    if(saldo <= 0){
        alert("âŒ Saldo insuficiente.");
        return;
    }

    if(saqueHoje()){
        alert("VocÃª jÃ¡ realizou 1 saque hoje. Tente novamente amanhÃ£.");
        return;
    }

    let valor = Number(document.getElementById("valor").value);
    let nome = document.getElementById("nome").value.trim();
    let tipo = document.getElementById("tipoPix").value;
    let chave = document.getElementById("chave").value.trim();

    if(!valor || valor <= 0){
        alert("Digite um valor vÃ¡lido.");
        return;
    }

    if(valor + taxaSaque > saldo){
        alert("Saldo insuficiente para cobrir o valor e a taxa.");
        return;
    }

    if(nome.length < 5){
        alert("Informe seu nome completo.");
        return;
    }

    if(tipo === "cpf" && !validarCPF(chave)){
        alert("CPF invÃ¡lido!");
        return;
    }
    if(tipo === "telefone" && !validarTelefone(chave)){
        alert("Telefone invÃ¡lido!");
        return;
    }
    if(tipo === "email" && !validarEmail(chave)){
        alert("E-mail invÃ¡lido!");
        return;
    }

    // ------------------------------
    // REALIZA O SAQUE
    // ------------------------------
    saldo -= (valor + taxaSaque);
    atualizarSaldo();

    // salva histÃ³rico
    let log = JSON.parse(localStorage.getItem("saquesMagaxia")) || [];
    log.push({
        valor: valor.toFixed(2),
        taxa: taxaSaque.toFixed(2),
        data: new Date().toLocaleString("pt-BR")
    });
    localStorage.setItem("saquesMagaxia", JSON.stringify(log));
    carregarHistorico();

    // salva data do saque
    localStorage.setItem("ultimoSaqueMagaxia", new Date().toLocaleDateString("pt-BR"));

    // animaÃ§Ã£o de sucesso
    let box = document.getElementById("sucesso");
    box.style.display = "block";
    setTimeout(()=>{ box.style.display = "none"; }, 2500);

    // limpar campos
    document.getElementById("valor").value = "";
    document.getElementById("chave").value = "";
});
</script>

</body>
</html>
